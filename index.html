<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CARPOOOO</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>

<style>
    /* ì‚¬ì´ë“œ ë©”ë‰´ */
    .side-menu {
        position: fixed;
        top: 0;
        left: -280px;
        width: 280px;
        height: 100%;
        background: #fff;
        box-shadow: 2px 0 5px rgba(0, 0, 0, .2);
        transition: left 0.3s ease;
        padding: 20px;
        z-index: 2000;
        overflow-y: auto;
    }

    .side-menu.active {
        left: 0;
    }

    /* ì‚¬ì´ë“œ ë©”ë‰´ ì œëª© */
    .side-menu p {
        text-align: left;
        color: #000;
        font-weight: bold;
        margin: 20px 0 10px;
        /* ì—¬ë°± ë„‰ë„‰í•˜ê²Œ */
    }

    /* ì‚¬ì´ë“œ ë©”ë‰´ ìƒë‹¨ */
    .side-menu .menu-header {
        text-align: center;
    }

    .side-menu .menu-header h5 {
        color: #0d6efd;
        font-size: 1.25rem;
        margin-bottom: 10px;
    }

    /* ì‚¬ì´ë“œ ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ */
    .side-menu .menu-list,
    .side-menu .menu-policy ul {
        list-style: none;
        padding-left: 0;
    }

    .side-menu .menu-list li,
    .side-menu .menu-policy li {
        margin: 10px 0;
    }

    .side-menu a {
        text-decoration: none;
        color: #333;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .side-menu a:hover {
        color: #0d6efd;
    }

    .side-menu .btn-link {
        color: #333;
        text-decoration: none;
    }

    .side-menu .btn-link:hover {
        color: #0d6efd;
    }

    .side-menu h6 {
        font-size: 1rem;
    }

    .side-menu p {
        margin: 0;
    }


    /* ì˜¤ë²„ë ˆì´ */
    .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        z-index: 1500;
    }

    .overlay.active {
        display: block;
    }
</style>


<body>
    <!-- ìƒë‹¨ í—¤ë” -->
    <div class="header">
        <div class="d-flex justify-content-between align-items-center">
            <!-- ë¡œê³  -->
            <h4 class="m-0 fw-bold">CARPOOOO</h4>
            <!-- ë²„íŠ¼ ê·¸ë£¹-->
            <div class="d-flex align-items-center gap-1">
                <!-- ë¡œê·¸ì¸ ìƒíƒœ ì˜ì—­ -->
                <div id="userStatus" class="me-2"></div>
                <!-- ì•Œë¦¼ì°½ -->
                <button class="btn btn-sm btn-link text-white"><i class="bi bi-ticket-perforated fs-4"></i></button>
                <!-- ì•Œë¦¼ì°½ -->
                <button class="btn btn-sm btn-link text-white"><i class="bi bi-bell fs-4"></i></button>
                <!-- í–„ë²„ê±° ë²„íŠ¼ -->
                <button id="menuBtn" class="btn btn-sm btn-link text-white"><i class="bi bi-list fs-3"></i></button>
            </div>
        </div>
    </div>
    </div>

    <!-- ì‚¬ì´ë“œë©”ë‰´ -->
    <div id="sideMenu" class="side-menu">
        <!-- ìƒë‹¨: ì„¤ì • & ì•Œë¦¼ -->
        <div class="d-flex justify-content-end gap-2 mb-3">
            <!-- ê¸°ì–´ ì•„ì´ì½˜ â†’ ë§ˆì´í˜ì´ì§€ ì´ë™ -->
            <a href="mypage.html" class="btn btn-sm btn-link text-dark">
                <i class="bi bi-gear fs-5"></i>
            </a>

            <!-- ì•Œë¦¼ ì•„ì´ì½˜ â†’ ì•Œë¦¼ í˜ì´ì§€ ì´ë™ -->
            <a href="notifications.html" class="btn btn-sm btn-link text-dark">
                <i class="bi bi-bell fs-5"></i>
            </a>
        </div>

        <!-- ìœ ì € í”„ë¡œí•„ ì˜ì—­ -->
        <div class="mb-4" id="sideUserArea"></div>


        <hr>

        <!-- ì„œë¹„ìŠ¤ë©”ë‰´ -->
        <p class="fw-bold small text-muted mb-1">ì„œë¹„ìŠ¤</p>
        <ul class="menu-list">
            <li><a href="car-profile.html">ë‚´ ì°¨</a></li>
            <li><a href="booking.html">ì˜ˆì•½í•˜ê¸°</a></li>
            <li><a href="tickets.html">ë³´ê´€í•¨</a></li>
            <li><a href="usage.html">ì´ìš©ë‚´ì—­</a></li>
            <li><a href="event.html">ì´ë²¤íŠ¸</a></li>
            <li><a href="support.html">1:1 ë¬¸ì˜</a></li>
            <li><a href="support.html">ì¹œêµ¬ ì´ˆëŒ€í•˜ê¸°</a></li>
        </ul>

        <hr>

        <!-- ì•½ê´€ ë° ì •ì±… -->
        <div class="menu-policy">
            <p class="fw-bold small text-muted mb-1">ì•½ê´€ ë° ì •ì±…</p>
            <ul>
                <li><a href="terms.html">ì´ìš©ì•½ê´€</a></li>
                <li><a href="privacy.html">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a></li>
                <li><a href="finance-terms.html">ì¹´í‘¸ ì „ìê¸ˆìœµê±°ë˜ ì´ìš©ì•½ê´€(ì„ ë¶ˆ)</a></li>
                <li><a href="location-terms.html">ìœ„ì¹˜ê¸°ë°˜ ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€</a></li>
                <li><a href="location-privacy.html">ê°œì¸ìœ„ì¹˜ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a></li>
            </ul>
        </div>
    </div>

    <!-- ì˜¤ë²„ë ˆì´ -->
    <div id="overlay" class="overlay"></div>

    <!-- í€µë©”ë‰´ -->
    <div class="quick-menu">
        <div class="quick-item" onclick="goMyCar()">
            <i class="bi bi-car-front-fill"></i>ë‚´ ì°¨
        </div>
        <div class="quick-item" onclick="location.href='booking.html'">
            <i class="bi bi-calendar-event"></i>ì˜ˆì•½í•˜ê¸°
        </div>
        <div class="quick-item" onclick="location.href='tickets.html'">
            <i class="bi bi-ticket-perforated-fill"></i>ë³´ê´€í•¨
        </div>
        <div class="quick-item" onclick="location.href='usage.html'">
            <i class="bi bi-clock-history"></i>ì´ìš©ë‚´ì—­
        </div>
    </div>

    <!-- ë°°ë„ˆ ìºëŸ¬ì…€ -->
    <div id="promoCarousel" class="carousel slide px-3" data-bs-ride="carousel">
        <div class="carousel-inner rounded-3 overflow-hidden">
            <div class="carousel-item active"><img src="https://placehold.co/800x300" class="d-block w-100"
                    alt="í• ì¸ ì´ë²¤íŠ¸"></div>
            <div class="carousel-item"><img src="https://placehold.co/800x300" class="d-block w-100" alt="ì •ê¸°ê¶Œ ì•ˆë‚´"></div>
        </div>
    </div>

    <!-- ë°°ì§€ ë©”ë‰´ -->
    <div class="badges">
        <div class="badge-item">ìµœëŒ€ 5ë§Œì› ì¿ í°</div>
        <div class="badge-item">ì´ë²ˆë‹¬ ì¿ í°íŒ©</div>
        <div class="badge-item">ì¹´í‘¸ ë“œë¡œìš°</div>
        <div class="badge-item">ì´ë²¤íŠ¸ ë”ë³´ê¸°</div>
    </div>

    <!-- ì„¸ì°¨ ê¿€íŒ ì¹´ë“œ -->
    <div class="container mt-3">
        <h5 class="fw-bold mb-3">ì¹´í‘¸ì˜ ì°¨ëŸ‰ê´€ë¦¬ ê¿€íŒ</h5>
        <div class="row g-3">
            <div class="col-6 col-md-4">
                <div class="card card-tip"><img src="https://placehold.co/400x250" class="card-img-top">
                    <div class="card-body">
                        <p class="card-text">ë¹„ ì˜¤ëŠ” ë‚  ì„¸ì°¨ê°€ ì¢‹ì€ ì´ìœ </p>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card card-tip"><img src="https://placehold.co/400x250" class="card-img-top">
                    <div class="card-body">
                        <p class="card-text">íƒ€ì´ì–´ ê´‘íƒ ê´€ë¦¬ íŒ</p>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card card-tip"><img src="https://placehold.co/400x250" class="card-img-top">
                    <div class="card-body">
                        <p class="card-text">ì‹¤ë‚´ ì²­ì†Œ ê¿€íŒ</p>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card card-tip"><img src="https://placehold.co/400x250" class="card-img-top">
                    <div class="card-body">
                        <p class="card-text">ê²¨ìš¸ì²  ì„¸ì°¨ ì£¼ì˜ì‚¬í•­</p>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card card-tip"><img src="https://placehold.co/400x250" class="card-img-top">
                    <div class="card-body">
                        <p class="card-text">ì—¬ë¦„ì²  ì°¨ëŸ‰ ê´€ë¦¬ë²•</p>
                    </div>
                </div>
            </div>
            <div class="col-6 col-md-4">
                <div class="card card-tip"><img src="https://placehold.co/400x250" class="card-img-top">
                    <div class="card-body">
                        <p class="card-text">ì„¸ì°¨ í›„ ì™ìŠ¤ ê´€ë¦¬</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-center mt-3"><button class="btn btn-outline-primary btn-sm">ë”ë³´ê¸°</button></div>
    </div>

    <!-- ì„¸ì°¨ìƒí’ˆ -->
    <div class="container mt-4">
        <h5 class="fw-bold mb-3">ì„¸ì°¨ ìƒí’ˆê¶Œ</h5>
        <div class="row">
            <div class="col-12 col-md-4">
                <div class="card product-card">
                    <div class="card-body text-center">
                        <h6 class="fw-bold">ì¼ë°˜ ì„¸ì°¨</h6>
                        <p>1íšŒ ì™¸ë¶€ ì„¸ì°¨</p>
                        <p class="fw-bold text-primary">25,000ì›~</p>
                        <button class="btn btn-primary btn-sm">ì˜ˆì•½í•˜ê¸°</button>
                    </div>
                </div>
            </div>
            <div class="col-12 col-md-4">
                <div class="card product-card">
                    <div class="card-body text-center">
                        <h6 class="fw-bold">ì •ê¸° ì„¸ì°¨</h6>
                        <p>ì›” 4íšŒ / 8íšŒ íŒ¨í‚¤ì§€</p>
                        <p class="fw-bold text-primary">35,000ì›~</p>
                        <button class="btn btn-primary btn-sm">ì˜ˆì•½í•˜ê¸°</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- í‘¸í„° -->
    <div class="footer">
        <p>Â© 2025 CARPOOOO. All rights reserved.</p>
        <p>ê³ ê°ì„¼í„°: 010-1234-5678 | info@carpoo.com</p>
        <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 123-45-67890</p>
    </div>
    <!-- ìŠ¤í¬ë¦½íŠ¸ ëª¨ìŒ-->
    <script>
        // í—¤ë” + ì‚¬ì´ë“œë©”ë‰´ ë Œë”ë§ í•¨ìˆ˜
        function renderUserUI() {
            const userStatus = document.getElementById("userStatus");
            const sideUserArea = document.getElementById("sideUserArea");
            const currentUser = JSON.parse(localStorage.getItem("currentUser"));

            // í—¤ë”: í”„ë¡œí•„ì‚¬ì§„ë§Œ
            if (userStatus) {
                if (currentUser) {
                    userStatus.innerHTML = `
          <div class="d-flex align-items-center">
            <img src="${currentUser.profileImage || 'https://placehold.co/40x40'}" 
                 alt="í”„ë¡œí•„" 
                 class="rounded-circle me-0" 
                 style="width:25px; height:25px; object-fit:cover;">
          </div>
        `;
                }
            }

            // ì‚¬ì´ë“œë©”ë‰´: ì´ë¦„/ì•„ì´ë””/í¬ë ˆë”§ or ë¡œê·¸ì¸ ì•ˆë‚´
            if (sideUserArea) {
                if (currentUser) {
                    sideUserArea.innerHTML = `
                  <h6 class="fw-bold mb-1">${currentUser.name || "ì‚¬ìš©ì"}</h6>
                  <p class="text-muted mb-1">@${currentUser.id || "userid"}</p>
                  <p class="fw-bold text-primary">Credit: ${(currentUser.points || 0).toLocaleString()}P</p>
                `;
                } else {
                    sideUserArea.innerHTML = `
                  <div class="text-center">
                    <a href="login.html" class="text-decoration-none text-muted small">
                      ë¡œê·¸ì¸í•˜ê³  ë” ë§ì€ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•´ë³´ì„¸ìš”
                    </a>
                  </div>
                `;
                }
            }
        }

        // ì´ˆê¸° ì‹¤í–‰
        document.addEventListener("DOMContentLoaded", renderUserUI);
        // ğŸ”¥ ë’¤ë¡œê°€ê¸° ë“± history navigation ì‹œì—ë„ ì‹¤í–‰
        window.addEventListener("pageshow", renderUserUI);

        function goMyCar() {
            const currentUser = JSON.parse(localStorage.getItem("currentUser"));

            if (!currentUser) {
                alert("ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.");
                window.location.href = "login.html";
                return;
            }

            if (!currentUser.cars || currentUser.cars.length === 0) {
                // ì°¨ëŸ‰ ë“±ë¡ í˜ì´ì§€
                window.location.href = "car-register.html";
            } else {
                // ë“±ë¡ëœ ì°¨ëŸ‰ì´ ìˆë‹¤ë©´ í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™
                window.location.href = "car-profile.html";
            }
        }

        // ì‚¬ì´ë“œë©”ë‰´ ì—´ê³  ë‹«ê¸°
        const menuBtn = document.getElementById("menuBtn");
        const sideMenu = document.getElementById("sideMenu");
        const overlay = document.getElementById("overlay");

        menuBtn.addEventListener("click", () => {
            sideMenu.classList.toggle("active");
            overlay.classList.toggle("active");
        });

        overlay.addEventListener("click", () => {
            sideMenu.classList.remove("active");
            overlay.classList.remove("active");
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>